<main class="page">
  <header class="page-header">
    <div>
      <p class="eyebrow">Welcome to</p>
      <h1>{{ title() }}</h1>
      <p class="subhead">Grab a few favorites and check out in seconds.</p>
    </div>
    <button
      class="ghost-button"
      type="button"
      (click)="clearCart()"
      [disabled]="cartItems().length === 0"
    >
      Clear cart
    </button>
  </header>

  <section class="grid">
    @for (product of products(); track product.id) {
      <app-product-card [product]="product" (add)="addToCart($event)" />
    }
  </section>

  <app-cart
    [items]="cartItems()"
    [subtotal]="subtotal()"
    [taxRate]="taxRate()"
    [tax]="tax()"
    [total]="total()"
    (increase)="increase($event)"
    (decrease)="decrease($event)"
    (remove)="remove($event)"
  />
</main>
